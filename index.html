<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพูุดุงฺฉ ุณูพูุฑ - ูุฑูุดฺฏุงู ุชุฎุตุต ูพูุดุงฺฉ ุจฺูโฺฏุงูู</title>
    <meta name="description" content="ูุฑูุดฺฏุงู ุงูุชุฑูุช ูพูุดุงฺฉ ุณูพูุฑ - ุงุฑุงุฆู ุจูุชุฑู ูพูุดุงฺฉ ุจฺูโฺฏุงูู ุจุง ฺฉูุช ุนุงู">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-crown"></i>
                    <span>ูพูุดุงฺฉ ุณูพูุฑ</span>
                </div>
                
                <div class="header-actions">
                    <div class="search-box">
                        <input type="text" placeholder="ุฌุณุชุฌู ูุญุตููุงุช..." id="searchInput">
                        <button class="search-btn"><i class="fas fa-search"></i></button>
                        <div class="search-results" id="searchResults"></div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn" id="wishlistBtn">
                            <i class="far fa-heart"></i>
                            <span class="action-count" id="wishlistCount">0</span>
                        </button>
                        
                        <button class="action-btn" id="cartBtn">
                            <i class="fas fa-shopping-bag"></i>
                            <span class="action-count" id="cartCount">0</span>
                        </button>
                        
                        <button class="action-btn" id="userBtn">
                            <i class="far fa-user"></i>
                        </button>
                    </div>
                </div>
            </div>

            <nav class="navbar">
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link active">ุฎุงูู</a></li>
                    <li class="nav-dropdown">
                        <a href="products.html" class="nav-link">ูุญุตููุงุช <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-menu">
                            <button class="god_btn">
                            <a href="products.html?category=ุฏุฎุชุฑุงูู" class="boy_p"><img src="./images/woman.jpg" alt="" width="100px"></a>
                            </button>
                            <button class="god_btn">
                            <a href="products.html?category=ูพุณุฑุงูู" class="boy_p"> <img src="./images/boy.jpg" alt="" width="100px"></a>
                            </button>
                            <button class="god_btn">
                            <a href="products.html?category=ููุฒุงุฏ" class="boy_p"><img src="./images/baby.jpg" alt="" width="100px"></a>
                            </button>
                            <button class="god_btn">
                            <a href="products.html?category=ุงฺฉุณุณูุฑ" class="boy_p"><img src="./images/acss.jpg" alt="" width="100px"></a>
                            </button>
                        </div>
                    </li>
                    <li><a href="products.html?discount=true" class="nav-link">ุชุฎููโูุง ูฺู</a></li>
                    <li><a href="about.html" class="nav-link">ุฏุฑุจุงุฑู ูุง</a></li>
                    <li><a href="contact.html" class="nav-link">ุชูุงุณ ุจุง ูุง</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-slider">
            <div class="slide active">
                <div class="slide-content">
                    <h1>ูุฌููุนู ุฌุฏุฏ ูพุงุฒ ู ุฒูุณุชุงู 1405</h1>
                    <p>ููุงุณุจ ุจุฑุง ุชูุงู ุณูููโูุง ุจุง ฺฉูุช ุจโูุธุฑ</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="window.location.href='products.html'">ูุดุงูุฏู ูุญุตููุงุช</button>
                        <button class="btn btn-outline">ุฏุฑุจุงุฑู ูุง</button>
                    </div>
                </div>
                <div class="slide-image">
                    <img src="https://images.unsplash.com/photo-1489987707025-2c9bc64c4776?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" alt="ูพูุดุงฺฉ ุจฺูโฺฏุงูู">
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-products">
        <div class="container">
            <div class="section-header">
                <h2>ูุญุตููุงุช ูฺู</h2>
                <p>ุจุฑุชุฑู ูุญุตููุงุช ูุง</p>
            </div>
            
            <div class="products-grid" id="featuredProducts">
                <!-- ูุญุตููุงุช ุงุฒ ุทุฑู JavaScript ููุฏ ูโุดููุฏ -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-crown"></i>
                        <span>ูพูุดุงฺฉ ุณูพูุฑ</span>
                    </div>
                    <p>ูุฑูุดฺฏุงู ุงูุชุฑูุช ูพูุดุงฺฉ ุณูพูุฑ ุจุง ุจุด ุงุฒ 5 ุณุงู ุณุงุจูู ุฏุฑ ุฒููู ุงุฑุงุฆู ูพูุดุงฺฉ ุจุง ฺฉูุช ู ููุช ููุงุณุจ</p>
                </div>
                
                <div class="footer-section">
                    <h3>ููฺฉโูุง ุณุฑุน</h3>
                    <ul>
                        <li><a href="index.html">ุฎุงูู</a></li>
                        <li><a href="products.html">ูุญุตููุงุช</a></li>
                        <li><a href="about.html">ุฏุฑุจุงุฑู ูุง</a></li>
                        <li><a href="contact.html">ุชูุงุณ ุจุง ูุง</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>ุชูุงุณ ุจุง ูุง</h3>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> 09184740946</p>
                        <p><i class="fas fa-envelope"></i> sepehrkur@gmail.com</p>
                        <a href="admin-login.html" style="color: #667eea; margin-top: 10px; display: inline-block;">ูุฑูุฏ ูุฏุฑุงู</a>
                    </div>
                </div>
            </div>
        </div>

        
    </footer>

    <script src="js/script.js"></script>
    <script>
        // ููุฏ ูุญุตููุงุช ุงุฒ ุณุฑูุฑ
        async function loadFeaturedProducts() {
            try {
                const response = await fetch('api/products.php?featured=true');
                const products = await response.json();
                
                const container = document.getElementById('featuredProducts');
                if (container && products.length > 0) {
                    container.innerHTML = products.map(product => `
                        <div class="product-card">
                            <div class="product-image">
                                <img src="${product.images[0]}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/300x300?text=ุชุตูุฑ+ููุฌูุฏ+ูุณุช'">
                                <div class="product-actions">
                                    <button class="action-btn" onclick="sepahrShop.addToCart(${product.id})">
                                        <i class="fas fa-shopping-cart"></i>
                                    </button>
                                    <button class="action-btn" onclick="sepahrShop.addToWishlist(${product.id})">
                                        <i class="far fa-heart"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-content">
                                <h3 class="product-title">${product.name}</h3>
                                <span class="product-category">${product.category}</span>
                                <div class="product-price">
                                    <span class="current-price">${sepahrShop.formatPrice(product.price)} ุชููุงู</span>
                                    ${product.oldPrice ? `<span class="old-price">${sepahrShop.formatPrice(product.oldPrice)} ุชููุงู</span>` : ''}
                                </div>
                                <button class="add-to-cart" onclick="sepahrShop.addToCart(${product.id})">
                                    <i class="fas fa-shopping-cart"></i>
                                    ุงูุฒูุฏู ุจู ุณุจุฏ ุฎุฑุฏ
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            } catch (error) {
                console.error('ุฎุทุง ุฏุฑ ููุฏ ูุญุตููุงุช:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', loadFeaturedProducts);
    </script>
    <div id="simpleCart" style="display: none; position: fixed; top: 0; right: 0; width: 350px; height: 100%; background: white; box-shadow: -5px 0 15px rgba(0,0,0,0.3); z-index: 1000; padding: 20px; overflow-y: auto;">
    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px;">
        <h3 style="margin: 0;">๐ ุณุจุฏ ุฎุฑุฏ ุดูุง</h3>
        <button onclick="closeSimpleCart()" style="background: red; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">ุจุณุชู</button>
    </div>
    
    <div id="simpleCartItems">
        <!-- ุขุชู ูุง ุณุจุฏ ุฎุฑุฏ ุงูุฌุง ููุงุด ุฏุงุฏู ู ุดููุฏ -->
    </div>
    
    <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee;">
        <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 18px;">
            <span>ุฌูุน ฺฉู:</span>
            <span id="simpleCartTotal">0 ุชููุงู</span>
        </div>
        <button onclick="window.location.href='checkout.html'" style="width: 100%; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 8px; margin-top: 15px; cursor: pointer;">
            โ ุชฺฉูู ุณูุงุฑุด
        </button>
    </div>
   
</div>



<script>
// ุชุงุจุน ูุง ุณุงุฏู ุจุฑุง ุณุจุฏ ุฎุฑุฏ
function showSimpleCart() {
    updateSimpleCart();
    document.getElementById('simpleCart').style.display = 'block';
}

function closeSimpleCart() {
    document.getElementById('simpleCart').style.display = 'none';
}

function updateSimpleCart() {
    const cart = JSON.parse(localStorage.getItem('sepahr_cart') || '[]');
    const itemsContainer = document.getElementById('simpleCartItems');
    const totalElement = document.getElementById('simpleCartTotal');
    
    if (cart.length === 0) {
        itemsContainer.innerHTML = '<p style="text-align: center; color: #666; padding: 40px 0;">ุณุจุฏ ุฎุฑุฏ ุดูุง ุฎุงู ุงุณุช</p>';
    } else {
        itemsContainer.innerHTML = cart.map(item => `
            <div style="display: flex; gap: 10px; padding: 15px; border-bottom: 1px solid #eee; background: #f9f9f9; border-radius: 8px; margin-bottom: 10px;">
                <img src="${item.image}" width="60" height="60" style="object-fit: cover; border-radius: 6px;" 
                     onerror="this.src='https://via.placeholder.com/60x60?text=ุชุตูุฑ'">
                <div style="flex: 1;">
                    <div style="font-weight: bold; margin-bottom: 5px;">${item.name}</div>
                    <div style="color: #e91e63; font-weight: bold; margin-bottom: 5px;">${item.price.toLocaleString('fa-IR')} ุชููุงู</div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <button onclick="changeQuantity(${item.id}, -1)" style="width: 25px; height: 25px; border: 1px solid #ddd; background: white; border-radius: 50%; cursor: pointer;">-</button>
                        <span style="font-weight: bold;">${item.quantity} ุนุฏุฏ</span>
                        <button onclick="changeQuantity(${item.id}, 1)" style="width: 25px; height: 25px; border: 1px solid #ddd; background: white; border-radius: 50%; cursor: pointer;">+</button>
                        <button onclick="removeFromCart(${item.id})" style="margin-right: auto; background: #ff4444; color: white; border: none; padding: 2px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">ุญุฐู</button>
                    </div>
                </div>
            </div>
        `).join('');
        
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        totalElement.textContent = total.toLocaleString('fa-IR') + ' ุชููุงู';
    }
    
    // ุขูพุฏุช ุดูุงุฑูุฏู
    updateCartCounter();
}

function changeQuantity(productId, change) {
    let cart = JSON.parse(localStorage.getItem('sepahr_cart') || '[]');
    const itemIndex = cart.findIndex(item => item.id === productId);
    
    if (itemIndex !== -1) {
        cart[itemIndex].quantity += change;
        
        if (cart[itemIndex].quantity < 1) {
            cart.splice(itemIndex, 1);
        }
        
        localStorage.setItem('sepahr_cart', JSON.stringify(cart));
        updateSimpleCart();
        showNotification('ุณุจุฏ ุฎุฑุฏ ุจู ุฑูุฒ ุดุฏ');
    }
}

function removeFromCart(productId) {
    let cart = JSON.parse(localStorage.getItem('sepahr_cart') || '[]');
    cart = cart.filter(item => item.id !== productId);
    localStorage.setItem('sepahr_cart', JSON.stringify(cart));
    updateSimpleCart();
    showNotification('ูุญุตูู ุงุฒ ุณุจุฏ ุฎุฑุฏ ุญุฐู ุดุฏ');
}

function updateCartCounter() {
    const cart = JSON.parse(localStorage.getItem('sepahr_cart') || '[]');
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    const cartCount = document.getElementById('cartCount');
    
    if (cartCount) {
        cartCount.textContent = totalItems;
        cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
    }
}

function showNotification(message) {
    // ุงุฌุงุฏ ฺฉ ููุชูฺฉุดู ุณุงุฏู
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #4CAF50;
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        z-index: 10000;
        font-family: Vazirmatn;
    `;
    notification.textContent = message;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

// ููุช ุตูุญู ููุฏ ุดุฏ
document.addEventListener('DOMContentLoaded', function() {
    // ุขูพุฏุช ุดูุงุฑูุฏู ุงููู
    updateCartCounter();
    
    // ฺฉูฺฉ ุฑู ุขฺฉูู ุณุจุฏ ุฎุฑุฏ
    const cartBtn = document.getElementById('cartBtn');
    if (cartBtn) {
        cartBtn.addEventListener('click', showSimpleCart);
    }
    
    // ฺฉูฺฉ ุฎุงุฑุฌ ุงุฒ ุณุจุฏ ุฎุฑุฏ ุจุฑุง ุจุณุชู
    document.addEventListener('click', function(e) {
        const cart = document.getElementById('simpleCart');
        if (cart && !cart.contains(e.target) && !e.target.closest('#cartBtn')) {
            closeSimpleCart();
        }
    });
});

// ุชุงุจุน ุนููู ุจุฑุง ุงูุฒูุฏู ุจู ุณุจุฏ ุฎุฑุฏ (ุฏุฑ ุตูุญุงุช ุฏฺฏุฑ ุงุณุชูุงุฏู ุดูุฏ)
function addToCart(productId) {
    // ุงุจุชุฏุง ูุญุตููุงุช ุฑู ุงุฒ localStorage ุจุฎูู
    const products = JSON.parse(localStorage.getItem('sepahr_products') || '[]');
    const product = products.find(p => p.id == productId);
    
    if (!product) {
        showNotification('ูุญุตูู ุงูุช ูุดุฏ!');
        return;
    }

    let cart = JSON.parse(localStorage.getItem('sepahr_cart') || '[]');
    const existingItem = cart.find(item => item.id == productId);

    if (existingItem) {
        existingItem.quantity += 1;
    } else {
        cart.push({
            ...product,
            quantity: 1
        });
    }
    
    localStorage.setItem('sepahr_cart', JSON.stringify(cart));
    updateCartCounter();
    showNotification('โ ุจู ุณุจุฏ ุฎุฑุฏ ุงุถุงูู ุดุฏ!');
    
    // ุงฺฏุฑ ุณุจุฏ ุฎุฑุฏ ุจุงุฒ ุงุณุชุ ุขูพุฏุช ฺฉู
    if (document.getElementById('simpleCart').style.display === 'block') {
        updateSimpleCart();
    }
}
</script>

</body>
</html>


