<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„ | Ù¾ÙˆØ´Ø§Ú© Ø³Ù¾Ù‡Ø±</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <!-- ğŸ” Header -->
  <header class="header">
    <div class="header-top">
      <div class="logo">
        <i class="fas fa-crown"></i>
        <span>Ù¾ÙˆØ´Ø§Ú© Ø³Ù¾Ù‡Ø±</span>
      </div>
      <div class="header-actions">
        <button id="cartBtn" class="btn btn-outline">
          <i class="fas fa-shopping-bag"></i>
          <span id="cartCount">0</span>
        </button>
      </div>
    </div>
    <nav class="navbar">
      <ul class="nav-menu">
        <li><a href="index.html" class="nav-link">Ø®Ø§Ù†Ù‡</a></li>
        <li><a href="products.html" class="nav-link">Ù…Ø­ØµÙˆÙ„Ø§Øª</a></li>
        <li><a href="about.html" class="nav-link">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
        <li><a href="contact.html" class="nav-link">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a></li>
      </ul>
    </nav>
  </header>

  <!-- ğŸ“Œ Product Detail -->
  <section class="container" style="margin:2rem 0">
    <div id="productDetail" style="display:flex;flex-wrap:wrap;gap:2rem;align-items:flex-start"></div>
  </section>

  <!-- ğŸ‘£ Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div>
        <div class="footer-logo"><i class="fas fa-crown"></i> Ù¾ÙˆØ´Ø§Ú© Ø³Ù¾Ù‡Ø±</div>
        <p>Ûµ Ø³Ø§Ù„ ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø± Ø¹Ø±Ø¶Ù‡ Ù¾ÙˆØ´Ø§Ú© Ø¨Ø§Ú©ÛŒÙÛŒØª</p>
      </div>
      <div>
        <h3>Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§</h3>
        <ul>
          <li><a href="index.html">Ø®Ø§Ù†Ù‡</a></li>
          <li><a href="products.html">Ù…Ø­ØµÙˆÙ„Ø§Øª</a></li>
          <li><a href="contact.html">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a></li>
        </ul>
      </div>
      <div>
        <h3>Ø§Ø±ØªØ¨Ø§Ø·</h3>
        <p><i class="fas fa-phone"></i> 09184740946</p>
        <p><i class="fas fa-envelope"></i> sepehrkur@gmail.com</p>
      </div>
    </div>
  </footer>

  <!-- ğŸ›’ Cart Sidebar -->
  <aside id="cartSidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
      <button id="closeCart"><i class="fas fa-times"></i></button>
    </div>
    <div id="cartItems" class="cart-items"></div>
    <div class="cart-footer">
      <div>Ø¬Ù…Ø¹ Ú©Ù„: <span id="cartTotal">0 ØªÙˆÙ…Ø§Ù†</span></div>
      <a href="checkout.html" class="btn btn-primary" style="margin-top:1rem;width:100%">ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯</a>
    </div>
  </aside>

  <!-- ğŸ“œ Scripts -->
  <script src="js/products.js"></script>
  <script src="js/product-loader.js"></script>
  <script src="js/script.js"></script>
  <script>
    // Ù†Ù…Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
    function getProductById(id) {
      return products.find(p => p.id === id);
    }

    function renderProductDetail() {
      const params = new URLSearchParams(window.location.search);
      const id = parseInt(params.get("id"));
      const product = getProductById(id);

      const container = document.getElementById("productDetail");
      if (!product) {
        container.innerHTML = "<p>Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.</p>";
        return;
      }

      container.innerHTML = `
        <div style="flex:1;min-width:300px">
          <img src="${product.image}" alt="${product.name}" 
               style="width:100%;border-radius:var(--radius);box-shadow:var(--shadow)">
        </div>
        <div style="flex:1;min-width:280px">
          <h1 style="margin-bottom:1rem">${product.name}</h1>
          <div class="product-price">
            <span class="current-price">${formatPrice(product.price)} ØªÙˆÙ…Ø§Ù†</span>
            ${product.oldPrice ? `<span class="old-price">${formatPrice(product.oldPrice)} ØªÙˆÙ…Ø§Ù†</span>` : ""}
          </div>
          <p style="margin:1rem 0">${product.description || "Ø¨Ø¯ÙˆÙ† ØªÙˆØ¶ÛŒØ­Ø§Øª."}</p>
          <button class="btn btn-primary" onclick="addToCart(${product.id})">
            Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
          </button>
        </div>
      `;
    }

    document.addEventListener("DOMContentLoaded", renderProductDetail);
  </script>
</body>
</html>
