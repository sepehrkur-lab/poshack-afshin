<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>محصولات | پوشاک سپهر</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <!-- 🔝 Header -->
  <header class="header">
    <div class="header-top">
      <div class="logo">
        <i class="fas fa-crown"></i>
        <span>پوشاک سپهر</span>
      </div>
      <div class="header-actions">
        <button id="cartBtn" class="btn btn-outline">
          <i class="fas fa-shopping-bag"></i>
          <span id="cartCount">0</span>
        </button>
      </div>
    </div>
    <nav class="navbar">
      <ul class="nav-menu">
        <li><a href="index.html" class="nav-link">خانه</a></li>
        <li><a href="products.html" class="nav-link active">محصولات</a></li>
        <li><a href="about.html" class="nav-link">درباره ما</a></li>
        <li><a href="contact.html" class="nav-link">تماس با ما</a></li>
      </ul>
    </nav>
  </header>

  <!-- 📌 Title -->
  <section class="container">
    <h1 style="margin:2rem 0 1rem">همه محصولات</h1>
  </section>

  <!-- 🔍 Filter Bar -->
  <section class="container" style="margin-bottom:1.5rem">
    <div style="display:flex;flex-wrap:wrap;gap:1rem;align-items:center">
      <input type="text" id="searchInput" placeholder="جستجو در محصولات..." 
        style="flex:1;padding:.7rem 1rem;border-radius:var(--radius);border:1px solid #ddd;">
      <select id="categoryFilter" style="padding:.7rem;border-radius:var(--radius);border:1px solid #ddd;">
        <option value="">دسته‌بندی</option>
        <option value="دخترانه">دخترانه</option>
        <option value="پسرانه">پسرانه</option>
        <option value="نوزاد">نوزاد</option>
      </select>
      <select id="sortProducts" style="padding:.7rem;border-radius:var(--radius);border:1px solid #ddd;">
        <option value="">مرتب‌سازی</option>
        <option value="priceLowHigh">ارزان‌ترین</option>
        <option value="priceHighLow">گران‌ترین</option>
      </select>
    </div>
  </section>

  <!-- 🛍️ Products Grid -->
  <section class="container">
    <div id="allProducts" class="products-grid"></div>
  </section>

  <!-- 👣 Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div>
        <div class="footer-logo"><i class="fas fa-crown"></i> پوشاک سپهر</div>
        <p>۵ سال تجربه در عرضه پوشاک باکیفیت</p>
      </div>
      <div>
        <h3>لینک‌ها</h3>
        <ul>
          <li><a href="index.html">خانه</a></li>
          <li><a href="products.html">محصولات</a></li>
          <li><a href="contact.html">تماس با ما</a></li>
        </ul>
      </div>
      <div>
        <h3>ارتباط</h3>
        <p><i class="fas fa-phone"></i> 09184740946</p>
        <p><i class="fas fa-envelope"></i> sepehrkur@gmail.com</p>
      </div>
    </div>
  </footer>

  <!-- 🛒 Cart Sidebar -->
  <aside id="cartSidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>سبد خرید</h3>
      <button id="closeCart"><i class="fas fa-times"></i></button>
    </div>
    <div id="cartItems" class="cart-items"></div>
    <div class="cart-footer">
      <div>جمع کل: <span id="cartTotal">0 تومان</span></div>
      <a href="checkout.html" class="btn btn-primary" style="margin-top:1rem;width:100%">تکمیل خرید</a>
    </div>
  </aside>

  <!-- 📜 Scripts -->
  <script src="js/Products.js"></script>
<script src="js/Product-loader.js"></script>
<script src="js/script.js"></script>

  <script>
    // 🔍 جستجو و فیلتر محصولات
    const searchInput = document.getElementById("searchInput");
    const categoryFilter = document.getElementById("categoryFilter");
    const sortSelect = document.getElementById("sortProducts");

    function filterAndRender() {
      let filtered = [...products];

      // فیلتر جستجو
      const query = searchInput.value.toLowerCase();
      if (query) {
        filtered = filtered.filter(p => p.name.toLowerCase().includes(query));
      }

      // فیلتر دسته
      const cat = categoryFilter.value;
      if (cat) {
        filtered = filtered.filter(p => p.category === cat);
      }

      // مرتب‌سازی
      if (sortSelect.value === "priceLowHigh") {
        filtered.sort((a, b) => a.price - b.price);
      } else if (sortSelect.value === "priceHighLow") {
        filtered.sort((a, b) => b.price - a.price);
      }

      renderProducts("allProducts", filtered);
    }

    searchInput.addEventListener("input", filterAndRender);
    categoryFilter.addEventListener("change", filterAndRender);
    sortSelect.addEventListener("change", filterAndRender);

    document.addEventListener("DOMContentLoaded", filterAndRender);
  </script>
</body>
</html>


